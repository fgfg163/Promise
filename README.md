es6 promise for lua